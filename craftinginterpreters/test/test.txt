====== Expression Tests ======
SOURCE: ()
[TOK] LEFT_PAREN      '('
[TOK] RIGHT_PAREN     ')'
[TOK] EOF             ''
================
====>
[MatchAdv]            LEFT_PAREN
====>
[line 1] Error: Expect expression. Got: )
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP [NIL_EXPR])
[PassError]

SOURCE: {}
[TOK] LEFT_BRACE      '{'
[TOK] RIGHT_BRACE     '}'
[TOK] EOF             ''
================
====>
[line 1] Error: Expect expression. Got: {
[PassError]

SOURCE: !true == false
[TOK] NOT             '!'
[TOK] TRUE            'true'
[TOK] EQUAL_EQUAL     '=='
[TOK] FALSE           'false'
[TOK] EOF             ''
================
====>
[MatchAdv]            NOT
[MatchAdv]            TRUE
[EXPR]                true
[EXPR]                (NOT true)
[MatchAdv]            EQUAL_EQUAL
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (EQUAL_EQUAL (NOT true) false)
[EVAL](EQUAL_EQUAL (NOT true) false)
   [EVAL](NOT true)
      [EVAL]true
   [EVAL]false
[RESULT]true
[PASS] expected: true

SOURCE: 123.45
[TOK] NUMBER          '123.45'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                123.45
[EVAL]123.45
[PASS] expected: 123.45

SOURCE: nil
[TOK] NIL             'nil'
[TOK] EOF             ''
================
====>
[MatchAdv]            NIL
[EXPR]                nil
[EVAL]nil
[PASS] expected: nil

SOURCE: var x = 10;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'x'
[TOK] EQUAL           '='
[TOK] NUMBER          '10'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
================
====>
[line 1] Error: Expect expression. Got: var
[PassError]

SOURCE: print 1 + 2;
[TOK] PRINT           'print'
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
================
====>
[line 1] Error: Expect expression. Got: print
[PassError]

SOURCE: // comment
123
[TOK] NUMBER          '123'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                123
[EVAL]123
[PASS] expected: 123

SOURCE: "hello world"
[TOK] STRING          '"hello world"'
[TOK] EOF             ''
================
====>
[MatchAdv]            STRING
[EXPR]                hello world
[EVAL]hello world
[PASS] expected: hello world

SOURCE: !-!-3
[TOK] NOT             '!'
[TOK] MINUS           '-'
[TOK] NOT             '!'
[TOK] MINUS           '-'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NOT
[MatchAdv]            MINUS
[MatchAdv]            NOT
[MatchAdv]            MINUS
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (MINUS 3)
[EXPR]                (NOT (MINUS 3))
[EXPR]                (MINUS (NOT (MINUS 3)))
[EXPR]                (NOT (MINUS (NOT (MINUS 3))))
[EVAL](NOT (MINUS (NOT (MINUS 3))))
   [EVAL](MINUS (NOT (MINUS 3)))
      [EVAL](NOT (MINUS 3))
         [EVAL](MINUS 3)
            [EVAL]3
[line 1] RuntimeError at '!': Operand must be a boolean.
[line 1] RuntimeError at '-': Operand must be a number.
[line 1] RuntimeError at '!': Operand must be a boolean.
[PassError]

SOURCE: 1 + 2 * 3
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] STAR            '*'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[MatchAdv]            STAR
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (STAR 2 3)
[EXPR]                (PLUS 1 (STAR 2 3))
[EVAL](PLUS 1 (STAR 2 3))
   [EVAL]1
   [EVAL](STAR 2 3)
      [EVAL]2
      [EVAL]3
[RESULT]6
[RESULT]7
[PASS] expected: 7

SOURCE: (1 + 2) * 3
[TOK] LEFT_PAREN      '('
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] RIGHT_PAREN     ')'
[TOK] STAR            '*'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            LEFT_PAREN
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (PLUS 1 2)
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP (PLUS 1 2))
[MatchAdv]            STAR
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (STAR (GROUP (PLUS 1 2)) 3)
[EVAL](STAR (GROUP (PLUS 1 2)) 3)
   [EVAL](GROUP (PLUS 1 2))
      [EVAL](PLUS 1 2)
         [EVAL]1
         [EVAL]2
[RESULT]3
   [EVAL]3
[RESULT]9
[PASS] expected: 9

SOURCE: 5 > 3
[TOK] NUMBER          '5'
[TOK] GREATER         '>'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            GREATER
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (GREATER 5 3)
[EVAL](GREATER 5 3)
   [EVAL]5
   [EVAL]3
[RESULT]true
[PASS] expected: true

SOURCE: 5 < 3
[TOK] NUMBER          '5'
[TOK] LESS            '<'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            LESS
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (LESS 5 3)
[EVAL](LESS 5 3)
   [EVAL]5
   [EVAL]3
[RESULT]false
[PASS] expected: false

SOURCE: nil == nil
[TOK] NIL             'nil'
[TOK] EQUAL_EQUAL     '=='
[TOK] NIL             'nil'
[TOK] EOF             ''
================
====>
[MatchAdv]            NIL
[EXPR]                nil
[MatchAdv]            EQUAL_EQUAL
[MatchAdv]            NIL
[EXPR]                nil
[EXPR]                (EQUAL_EQUAL nil nil)
[EVAL](EQUAL_EQUAL nil nil)
   [EVAL]nil
   [EVAL]nil
[RESULT]true
[PASS] expected: true

SOURCE: !false
[TOK] NOT             '!'
[TOK] FALSE           'false'
[TOK] EOF             ''
================
====>
[MatchAdv]            NOT
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (NOT false)
[EVAL](NOT false)
   [EVAL]false
[PASS] expected: true

SOURCE: 5 > 3
[TOK] NUMBER          '5'
[TOK] GREATER         '>'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            GREATER
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (GREATER 5 3)
[EVAL](GREATER 5 3)
   [EVAL]5
   [EVAL]3
[RESULT]true
[PASS] expected: true

SOURCE: 5 < 3
[TOK] NUMBER          '5'
[TOK] LESS            '<'
[TOK] NUMBER          '3'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            LESS
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (LESS 5 3)
[EVAL](LESS 5 3)
   [EVAL]5
   [EVAL]3
[RESULT]false
[PASS] expected: false

SOURCE: 5 >= 5
[TOK] NUMBER          '5'
[TOK] GREATER_EQUAL   '>='
[TOK] NUMBER          '5'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            GREATER_EQUAL
[MatchAdv]            NUMBER
[EXPR]                5
[EXPR]                (GREATER_EQUAL 5 5)
[EVAL](GREATER_EQUAL 5 5)
   [EVAL]5
   [EVAL]5
[RESULT]true
[PASS] expected: true

SOURCE: 5 <= 4
[TOK] NUMBER          '5'
[TOK] LESS_EQUAL      '<='
[TOK] NUMBER          '4'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[MatchAdv]            LESS_EQUAL
[MatchAdv]            NUMBER
[EXPR]                4
[EXPR]                (LESS_EQUAL 5 4)
[EVAL](LESS_EQUAL 5 4)
   [EVAL]5
   [EVAL]4
[RESULT]false
[PASS] expected: false

SOURCE: true == false
[TOK] TRUE            'true'
[TOK] EQUAL_EQUAL     '=='
[TOK] FALSE           'false'
[TOK] EOF             ''
================
====>
[MatchAdv]            TRUE
[EXPR]                true
[MatchAdv]            EQUAL_EQUAL
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (EQUAL_EQUAL true false)
[EVAL](EQUAL_EQUAL true false)
   [EVAL]true
   [EVAL]false
[RESULT]false
[PASS] expected: false

SOURCE: true != false
[TOK] TRUE            'true'
[TOK] NOT_EQUAL       '!='
[TOK] FALSE           'false'
[TOK] EOF             ''
================
====>
[MatchAdv]            TRUE
[EXPR]                true
[MatchAdv]            NOT_EQUAL
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (NOT_EQUAL true false)
[EVAL](NOT_EQUAL true false)
   [EVAL]true
   [EVAL]false
[RESULT]true
[PASS] expected: true

SOURCE: nil == nil
[TOK] NIL             'nil'
[TOK] EQUAL_EQUAL     '=='
[TOK] NIL             'nil'
[TOK] EOF             ''
================
====>
[MatchAdv]            NIL
[EXPR]                nil
[MatchAdv]            EQUAL_EQUAL
[MatchAdv]            NIL
[EXPR]                nil
[EXPR]                (EQUAL_EQUAL nil nil)
[EVAL](EQUAL_EQUAL nil nil)
   [EVAL]nil
   [EVAL]nil
[RESULT]true
[PASS] expected: true

SOURCE: !false
[TOK] NOT             '!'
[TOK] FALSE           'false'
[TOK] EOF             ''
================
====>
[MatchAdv]            NOT
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (NOT false)
[EVAL](NOT false)
   [EVAL]false
[PASS] expected: true

SOURCE: -(1 + 2)
[TOK] MINUS           '-'
[TOK] LEFT_PAREN      '('
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] RIGHT_PAREN     ')'
[TOK] EOF             ''
================
====>
[MatchAdv]            MINUS
[MatchAdv]            LEFT_PAREN
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (PLUS 1 2)
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP (PLUS 1 2))
[EXPR]                (MINUS (GROUP (PLUS 1 2)))
[EVAL](MINUS (GROUP (PLUS 1 2)))
   [EVAL](GROUP (PLUS 1 2))
      [EVAL](PLUS 1 2)
         [EVAL]1
         [EVAL]2
[RESULT]3
[PASS] expected: -3

SOURCE: (1 + 2) * (3 - 1)
[TOK] LEFT_PAREN      '('
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] RIGHT_PAREN     ')'
[TOK] STAR            '*'
[TOK] LEFT_PAREN      '('
[TOK] NUMBER          '3'
[TOK] MINUS           '-'
[TOK] NUMBER          '1'
[TOK] RIGHT_PAREN     ')'
[TOK] EOF             ''
================
====>
[MatchAdv]            LEFT_PAREN
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (PLUS 1 2)
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP (PLUS 1 2))
[MatchAdv]            STAR
[MatchAdv]            LEFT_PAREN
====>
[MatchAdv]            NUMBER
[EXPR]                3
[MatchAdv]            MINUS
[MatchAdv]            NUMBER
[EXPR]                1
[EXPR]                (MINUS 3 1)
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP (MINUS 3 1))
[EXPR]                (STAR (GROUP (PLUS 1 2)) (GROUP (MINUS 3 1)))
[EVAL](STAR (GROUP (PLUS 1 2)) (GROUP (MINUS 3 1)))
   [EVAL](GROUP (PLUS 1 2))
      [EVAL](PLUS 1 2)
         [EVAL]1
         [EVAL]2
[RESULT]3
   [EVAL](GROUP (MINUS 3 1))
      [EVAL](MINUS 3 1)
         [EVAL]3
         [EVAL]1
[RESULT]2
[RESULT]6
[PASS] expected: 6

SOURCE: 2 / 4
[TOK] NUMBER          '2'
[TOK] SLASH           '/'
[TOK] NUMBER          '4'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                2
[MatchAdv]            SLASH
[MatchAdv]            NUMBER
[EXPR]                4
[EXPR]                (SLASH 2 4)
[EVAL](SLASH 2 4)
   [EVAL]2
   [EVAL]4
[RESULT]0.5
[PASS] expected: 0.5

====== Statement Tests ======
SOURCE: 2 / 4
[TOK] NUMBER          '2'
[TOK] SLASH           '/'
[TOK] NUMBER          '4'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                2
[MatchAdv]            SLASH
[MatchAdv]            NUMBER
[EXPR]                4
[EXPR]                (SLASH 2 4)
[line 1] Error at end: Expect ';' after expression.
### SYNCHRONIZE ###
[NULL_STMT]
[PassError]

SOURCE: print 1 + 2;
[TOK] PRINT           'print'
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            PRINT
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (PLUS 1 2)
[CONSUME][TOK] SEMICOLON       ';'
[STMT_PRINT] (PLUS 1 2)
[EVAL](PLUS 1 2)
   [EVAL]1
   [EVAL]2
[RESULT]3
[STMT_PRINT_EVAL]3
[PASS] expected: 3;

SOURCE: 1 + 2;
[TOK] NUMBER          '1'
[TOK] PLUS            '+'
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (PLUS 1 2)
[CONSUME][TOK] SEMICOLON       ';'
[STMT_EXPR] (PLUS 1 2)
[EVAL](PLUS 1 2)
   [EVAL]1
   [EVAL]2
[RESULT]3
[STMT_EXPR_EVAL]3
[INFO] no expected output

SOURCE: print 2 * 3;
[TOK] PRINT           'print'
[TOK] NUMBER          '2'
[TOK] STAR            '*'
[TOK] NUMBER          '3'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            PRINT
================
====>
[MatchAdv]            NUMBER
[EXPR]                2
[MatchAdv]            STAR
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (STAR 2 3)
[CONSUME][TOK] SEMICOLON       ';'
[STMT_PRINT] (STAR 2 3)
[EVAL](STAR 2 3)
   [EVAL]2
   [EVAL]3
[RESULT]6
[STMT_PRINT_EVAL]6
[PASS] expected: 6;

SOURCE: print !false;
[TOK] PRINT           'print'
[TOK] NOT             '!'
[TOK] FALSE           'false'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            PRINT
================
====>
[MatchAdv]            NOT
[MatchAdv]            FALSE
[EXPR]                false
[EXPR]                (NOT false)
[CONSUME][TOK] SEMICOLON       ';'
[STMT_PRINT] (NOT false)
[EVAL](NOT false)
   [EVAL]false
[STMT_PRINT_EVAL]true
[PASS] expected: true;

SOURCE: print "hello";
[TOK] PRINT           'print'
[TOK] STRING          '"hello"'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            PRINT
================
====>
[MatchAdv]            STRING
[EXPR]                hello
[CONSUME][TOK] SEMICOLON       ';'
[STMT_PRINT] hello
[EVAL]hello
[STMT_PRINT_EVAL]hello
[PASS] expected: hello;

====== Variable Tests ======
SOURCE: var a = 42; print a;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '42'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                42
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] a = 42
1   [STMT_PRINT] VARIABLE a
=================
$:0   [STMT_VAR] a = 42
[EVAL]42
[STMT_VAR_DEFINE] a = 42
$:1   [STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]42
[PASS] expected: 42;

SOURCE: var b = 3.14; print b;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'b'
[TOK] EQUAL           '='
[TOK] NUMBER          '3.14'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'b'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'b'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                3.14
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE b
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] b = 3.14
1   [STMT_PRINT] VARIABLE b
=================
$:0   [STMT_VAR] b = 3.14
[EVAL]3.14
[STMT_VAR_DEFINE] b = 3.14
$:1   [STMT_PRINT] VARIABLE b
[EVAL]VARIABLE b
[STMT_PRINT_EVAL]3.14
[PASS] expected: 3.14;

SOURCE: var s = "hello"; print s;
[TOK] VAR             'var'
[TOK] IDENTIFIER      's'
[TOK] EQUAL           '='
[TOK] STRING          '"hello"'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      's'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      's'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            STRING
[EXPR]                hello
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE s
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] s = hello
1   [STMT_PRINT] VARIABLE s
=================
$:0   [STMT_VAR] s = hello
[EVAL]hello
[STMT_VAR_DEFINE] s = hello
$:1   [STMT_PRINT] VARIABLE s
[EVAL]VARIABLE s
[STMT_PRINT_EVAL]hello
[PASS] expected: hello;

SOURCE: var x; print x;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'x'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'x'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'x'
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE x
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] x = [NIL_EXPR]1   [STMT_PRINT] VARIABLE x
=================
$:0   [STMT_VAR] x = [NIL_EXPR][STMT_VAR_DEFINE] x = nil
$:1   [STMT_PRINT] VARIABLE x
[EVAL]VARIABLE x
[STMT_PRINT_EVAL]nil
[PASS] expected: nil;

SOURCE: var y = true; print y;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'y'
[TOK] EQUAL           '='
[TOK] TRUE            'true'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'y'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'y'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            TRUE
[EXPR]                true
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE y
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] y = true
1   [STMT_PRINT] VARIABLE y
=================
$:0   [STMT_VAR] y = true
[EVAL]true
[STMT_VAR_DEFINE] y = true
$:1   [STMT_PRINT] VARIABLE y
[EVAL]VARIABLE y
[STMT_PRINT_EVAL]true
[PASS] expected: true;

SOURCE: var c = 10; var d = 5; print c;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'c'
[TOK] EQUAL           '='
[TOK] NUMBER          '10'
[TOK] SEMICOLON       ';'
[TOK] VAR             'var'
[TOK] IDENTIFIER      'd'
[TOK] EQUAL           '='
[TOK] NUMBER          '5'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'c'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'c'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                10
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'd'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                5
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE c
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] c = 10
1   [STMT_VAR] d = 5
2   [STMT_PRINT] VARIABLE c
=================
$:0   [STMT_VAR] c = 10
[EVAL]10
[STMT_VAR_DEFINE] c = 10
$:1   [STMT_VAR] d = 5
[EVAL]5
[STMT_VAR_DEFINE] d = 5
$:2   [STMT_PRINT] VARIABLE c
[EVAL]VARIABLE c
[STMT_PRINT_EVAL]10
[PASS] expected: 10;

SOURCE: var c = 10; c = 20; print c;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'c'
[TOK] EQUAL           '='
[TOK] NUMBER          '10'
[TOK] SEMICOLON       ';'
[TOK] IDENTIFIER      'c'
[TOK] EQUAL           '='
[TOK] NUMBER          '20'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'c'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'c'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                10
[CONSUME][TOK] SEMICOLON       ';'
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE c
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                20
[EXPR]                ASSIGN (= c 20)
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE c
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] c = 10
1   [STMT_EXPR] ASSIGN (= c 20)
2   [STMT_PRINT] VARIABLE c
=================
$:0   [STMT_VAR] c = 10
[EVAL]10
[STMT_VAR_DEFINE] c = 10
$:1   [STMT_EXPR] ASSIGN (= c 20)
[EVAL]ASSIGN (= c 20)
   [EVAL]20
[EXPR_ASSIGN] c = 20
[STMT_EXPR_EVAL]20
$:2   [STMT_PRINT] VARIABLE c
[EVAL]VARIABLE c
[STMT_PRINT_EVAL]20
[PASS] expected: 20;

SOURCE: var a = 1; print a = 2;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                ASSIGN (= a 2)
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_PRINT] ASSIGN (= a 2)
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_PRINT] ASSIGN (= a 2)
[EVAL]ASSIGN (= a 2)
   [EVAL]2
[EXPR_ASSIGN] a = 2
[STMT_PRINT_EVAL]2
[PASS] expected: 2;

SOURCE: print 1 = 2;
[TOK] PRINT           'print'
[TOK] NUMBER          '1'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            PRINT
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[line 1] Error at ';': Invalid assignment target.
[CONSUME][TOK] SEMICOLON       ';'
### SYNCHRONIZE ###
==== Program [1 statements] ====
0   [NULL_STMT]
=================
$:0   [NULL_STMT]
[PassError]

SOURCE: {}
[TOK] LEFT_BRACE      '{'
[TOK] RIGHT_BRACE     '}'
[TOK] EOF             ''
[MatchAdv]            LEFT_BRACE
[CONSUME][TOK] RIGHT_BRACE     '}'
==== Program [1 statements] ====
0   [STMT_BLOCK]
=================
$:0   [STMT_BLOCK]
[INFO] no expected output

SOURCE: var a = 0; var b = 0; print a = b = 3;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '0'
[TOK] SEMICOLON       ';'
[TOK] VAR             'var'
[TOK] IDENTIFIER      'b'
[TOK] EQUAL           '='
[TOK] NUMBER          '0'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] IDENTIFIER      'b'
[TOK] EQUAL           '='
[TOK] NUMBER          '3'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                0
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'b'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                0
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE b
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                ASSIGN (= b 3)
[EXPR]                ASSIGN (= a ASSIGN (= b 3))
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] a = 0
1   [STMT_VAR] b = 0
2   [STMT_PRINT] ASSIGN (= a ASSIGN (= b 3))
=================
$:0   [STMT_VAR] a = 0
[EVAL]0
[STMT_VAR_DEFINE] a = 0
$:1   [STMT_VAR] b = 0
[EVAL]0
[STMT_VAR_DEFINE] b = 0
$:2   [STMT_PRINT] ASSIGN (= a ASSIGN (= b 3))
[EVAL]ASSIGN (= a ASSIGN (= b 3))
   [EVAL]ASSIGN (= b 3)
      [EVAL]3
[EXPR_ASSIGN] b = 3
[EXPR_ASSIGN] a = 3
[STMT_PRINT_EVAL]3
[PASS] expected: 3;

SOURCE: var a = 1; print (a = 2) + 3;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] LEFT_PAREN      '('
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] RIGHT_PAREN     ')'
[TOK] PLUS            '+'
[TOK] NUMBER          '3'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            LEFT_PAREN
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                ASSIGN (= a 2)
[CONSUME][TOK] RIGHT_PAREN     ')'
[EXPR]                (GROUP ASSIGN (= a 2))
[MatchAdv]            PLUS
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                (PLUS (GROUP ASSIGN (= a 2)) 3)
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_PRINT] (PLUS (GROUP ASSIGN (= a 2)) 3)
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_PRINT] (PLUS (GROUP ASSIGN (= a 2)) 3)
[EVAL](PLUS (GROUP ASSIGN (= a 2)) 3)
   [EVAL](GROUP ASSIGN (= a 2))
      [EVAL]ASSIGN (= a 2)
         [EVAL]2
[EXPR_ASSIGN] a = 2
   [EVAL]3
[RESULT]5
[STMT_PRINT_EVAL]5
[PASS] expected: 5;

SOURCE: var a = 1; print a = 2 == 2;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] EQUAL_EQUAL     '=='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[MatchAdv]            EQUAL_EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                (EQUAL_EQUAL 2 2)
[EXPR]                ASSIGN (= a (EQUAL_EQUAL 2 2))
[CONSUME][TOK] SEMICOLON       ';'
==== Program [2 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_PRINT] ASSIGN (= a (EQUAL_EQUAL 2 2))
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_PRINT] ASSIGN (= a (EQUAL_EQUAL 2 2))
[EVAL]ASSIGN (= a (EQUAL_EQUAL 2 2))
   [EVAL](EQUAL_EQUAL 2 2)
      [EVAL]2
      [EVAL]2
[RESULT]true
[EXPR_ASSIGN] a = true
[STMT_PRINT_EVAL]true
[PASS] expected: true;

SOURCE: { var a = 1; print a; }
[TOK] LEFT_BRACE      '{'
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] RIGHT_BRACE     '}'
[TOK] EOF             ''
[MatchAdv]            LEFT_BRACE
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
[CONSUME][TOK] RIGHT_BRACE     '}'
==== Program [1 statements] ====
0   [STMT_BLOCK]
=================
$:0   [STMT_BLOCK]
[STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
[STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]1
[PASS] expected: 1;

SOURCE: var a = 1; { print a; }
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] LEFT_BRACE      '{'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] RIGHT_BRACE     '}'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            LEFT_BRACE
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
[CONSUME][TOK] RIGHT_BRACE     '}'
==== Program [2 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_BLOCK]
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_BLOCK]
[STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]1
[PASS] expected: 1;

SOURCE: var a = 1; { var a = 2; print a; } print a;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] LEFT_BRACE      '{'
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] RIGHT_BRACE     '}'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            LEFT_BRACE
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                2
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
[CONSUME][TOK] RIGHT_BRACE     '}'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_BLOCK]
2   [STMT_PRINT] VARIABLE a
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_BLOCK]
[STMT_VAR] a = 2
[EVAL]2
[STMT_VAR_DEFINE] a = 2
[STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]2
$:2   [STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]1
[PASS] expected: 2;1;

SOURCE: var a = 1; { a = 2; } print a;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] LEFT_BRACE      '{'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] RIGHT_BRACE     '}'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            LEFT_BRACE
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                2
[EXPR]                ASSIGN (= a 2)
[CONSUME][TOK] SEMICOLON       ';'
[CONSUME][TOK] RIGHT_BRACE     '}'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_BLOCK]
2   [STMT_PRINT] VARIABLE a
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_BLOCK]
[STMT_EXPR] ASSIGN (= a 2)
[EVAL]ASSIGN (= a 2)
   [EVAL]2
[EXPR_ASSIGN] a = 2
[STMT_EXPR_EVAL]2
$:2   [STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]2
[PASS] expected: 2;

SOURCE: var a = 1; { var a = 2; a = 3; } print a;
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '1'
[TOK] SEMICOLON       ';'
[TOK] LEFT_BRACE      '{'
[TOK] VAR             'var'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '2'
[TOK] SEMICOLON       ';'
[TOK] IDENTIFIER      'a'
[TOK] EQUAL           '='
[TOK] NUMBER          '3'
[TOK] SEMICOLON       ';'
[TOK] RIGHT_BRACE     '}'
[TOK] PRINT           'print'
[TOK] IDENTIFIER      'a'
[TOK] SEMICOLON       ';'
[TOK] EOF             ''
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                1
[CONSUME][TOK] SEMICOLON       ';'
[MatchAdv]            LEFT_BRACE
[MatchAdv]            VAR
[CONSUME][TOK] IDENTIFIER      'a'
[MatchAdv]            EQUAL
================
====>
[MatchAdv]            NUMBER
[EXPR]                2
[CONSUME][TOK] SEMICOLON       ';'
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[MatchAdv]            EQUAL
[MatchAdv]            NUMBER
[EXPR]                3
[EXPR]                ASSIGN (= a 3)
[CONSUME][TOK] SEMICOLON       ';'
[CONSUME][TOK] RIGHT_BRACE     '}'
[MatchAdv]            PRINT
================
====>
[MatchAdv]            IDENTIFIER
[EXPR]                VARIABLE a
[CONSUME][TOK] SEMICOLON       ';'
==== Program [3 statements] ====
0   [STMT_VAR] a = 1
1   [STMT_BLOCK]
2   [STMT_PRINT] VARIABLE a
=================
$:0   [STMT_VAR] a = 1
[EVAL]1
[STMT_VAR_DEFINE] a = 1
$:1   [STMT_BLOCK]
[STMT_VAR] a = 2
[EVAL]2
[STMT_VAR_DEFINE] a = 2
[STMT_EXPR] ASSIGN (= a 3)
[EVAL]ASSIGN (= a 3)
   [EVAL]3
[EXPR_ASSIGN] a = 3
[STMT_EXPR_EVAL]3
$:2   [STMT_PRINT] VARIABLE a
[EVAL]VARIABLE a
[STMT_PRINT_EVAL]1
[PASS] expected: 1;

